Based off upstream commit f235ad33d48a41975db57c0b52cec7b70529db0d
Vendored on Wed Apr  2 18:31:21 UTC 2014
