Based off upstream commit 1aa615576e3d74db89057d9297bc045154827868
Vendored on Wed Apr  2 18:31:21 UTC 2014
