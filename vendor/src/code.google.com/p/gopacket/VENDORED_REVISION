Based off upstream commit 5eeda521b2fc1f48ed0e20b1d0ecf813f8018fcb
Vendored on Wed Apr  2 19:04:13 UTC 2014
